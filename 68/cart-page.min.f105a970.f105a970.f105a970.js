(()=>{const $=(e,t=document)=>t.querySelector(e),e=$("#list"),t=$("#row"),n=$("#total"),fmtMY=e=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:"MYR"}).format(e);function render(){const r=window.Cart.items();e.innerHTML="";let c=0;r.forEach(n=>{c+=n.price*n.qty;const r=t.content.cloneNode(!0),o=r.querySelector("img");o.src=n.img,o.alt=n.name,r.querySelector(".name").textContent=n.name,r.querySelector(".price").textContent=`${fmtMY(n.price)} Ã— ${n.qty}`,r.querySelector(".qty").textContent=n.qty,r.querySelector(".inc").addEventListener("click",()=>{window.Cart.setQty(n.id,n.qty+1),render()}),r.querySelector(".dec").addEventListener("click",()=>{const e=Math.max(0,n.qty-1);0===e?window.Cart.remove(n.id):window.Cart.setQty(n.id,e),render()}),e.appendChild(r)}),n.textContent=fmtMY(c)}$("#clear").addEventListener("click",()=>{window.Cart.clear(),render()}),$("#checkout").addEventListener("click",()=>alert("Demo checkout")),window.addEventListener("DOMContentLoaded",render)})();