!function(){const t="cart:items",e={get(){try{return JSON.parse(localStorage.getItem(t)||"[]")}catch{return[]}},save:e=>(localStorage.setItem(t,JSON.stringify(e)),e),add(t){const e=this.get(),r=e.findIndex(e=>e.id===t.id);return r>=0?e[r].qty+=t.qty||1:e.push({...t,qty:t.qty||1}),this.save(e)},updateQty(t,e){let r=this.get();return r=r.map(r=>r.id===t?{...r,qty:Math.max(1,e)}:r),this.save(r)},remove(t){const e=this.get().filter(e=>e.id!==t);return this.save(e)},clear(){return this.save([])},subtotal(){return this.get().reduce((t,e)=>t+e.price*e.qty,0)},count(){return this.get().reduce((t,e)=>t+e.qty,0)},fmt:t=>`RM ${t.toFixed(2)}`};0===e.get().length&&e.save([{id:"nasi-lemak",name:"Nasi Lemak",price:6.9,qty:1},{id:"teh-ais",name:"Teh Ais",price:3.5,qty:2}]),window.CartState=e}();